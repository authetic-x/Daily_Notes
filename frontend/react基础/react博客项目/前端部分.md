## 前言

这个项目是参考掘金上一位同学的博客进行开发的。前端部分的主要技术栈是 `react+react-router+antd`，对于博客这种小型项目，引入 `redux` 大做架构确实没有必要。

下面是这个项目的开发日记，同时也记录一下整个项目前端部分的开发流程是怎么样的



## 03-03

### 修改webpack配置

利用 `customize-cra 和 react-app-rewired` 模块添加 `config-overrides.js` 去配置 `antd` 和利用 `less` 去自定义主题。注意，还需要配置一下 `package.json` 的启动命令



### 使用 react-loadable

引入 `react-loadable` 的目的是进行 `code-splitting`，这样就不用一次性引入所有 js 代码，而是切分成若干个 js 文件按需引入。

`Loadable` 是一个高阶组件，接收组件作为参数。在 `utils/loadable.js` 下创建一个 `loadable` 工具函数，方便使用。如：`const List = loadable(()=>import('../pages/web/list/list')) `



### loginCheck

在 `loginCheck.js` 中创建 `loginCheck` 函数，这个函数返回一个 `loginCheck` 组件，这个组件内部会根据当前用户的登录情况重定向到登录界面还是原目标页面。这里要注意的是通过 `Route` 渲染的组件都会默认被传入三个 props: `match, location, history`。



### 完成 App.js

一共四个路由规则：`/, /login, /web, /admin`



## 03-04

### 完成首页的布局

布局方式是 `Header-Content-Footer`，其中 `Sider` 被包裹在 `Content` 里。设置 `Content` 外部 `Layout` 高度为 `100%` 就可以自动占满屏幕剩余空间，`Footer` 被放在底部，比较神奇！

`antd4.0` 以后将 `Icon` 独立的放在了包 `@ant-design/icons` 里面，所以原项目使用 `Icon` 的方式失效了。需要想出新的办法

