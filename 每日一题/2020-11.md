## 11-11

### react

render函数中return如何没有用()会有什么问题吗？

> 可以不用，但是不能换行。jsx 会被bebel编译成js，会在每行后默认加；如果换行，return; 会报错

### js

请使用 js 实现一个秒表计时器程序

```js
// bad version
let intervalId

function startCounter(seconds) {
	intervalId = setInterval(() => {
		if (seconds === 0) {
			window.clearInterval(intervalId)
		}
		seconds--
	})
	return intervalId
}

function stopCounter() {
	window.clearInterval(intervalId)
}

function resumeCounter() {
	startCounter()
}
```



## 11-12

### react

`componentWillUpdate` 中可以直接修改 state 的值吗？

> 如果是直接 this.state = {} 的话是可以的，但是这样做不会重新触发 react 渲染，所以没什么意思；如果是调用 this.setState() 则是不允许的，因为这样会造成无限循环。

react 渲染原理是什么？

> react 是一个 MVVM 的框架，props、state 改变时会触发组件重新渲染

什么是渲染劫持？

> 与 HOC 有关系



## 11-13

### react

React Intl 是什么原理？

> 一个国际化的库，具体实现原理不知是否和 i18n 类似

为什么不考虑优先使用Context?

> ??顶层更新不一定保证子组件重新渲染？可靠性不足？

 除了实例的属性可以获取Context外哪些地方还能直接获取Context呢？

> 构造函数，一些生命周期函数都可以接受context作为额外参数

contextType 是什么？作用？

> 在 Class 组件中使用 Context 时，需要设置 contextType 为你要使用的 Context

windowing 技术了解吗？

> 渲染长列表时，只渲染固定长度，和网易云说的那个一样，可以研究一下相关开源库的代码



## 11-18

### React

React portal 了解过吗？有什么作用？

> portal 是用来将子组件插入到指定的DOM中，比如有些 Modal 我们想把它放在 `#app` 的外面，就可以使用 portal。注意虽然 portal 可能不在 `#app` 的 DOM Tree 中，但它的事件冒泡机制还是正常工作的，也就是说 Modal 的父组件依旧可以复活 Modal 冒泡的事件。用法： React.createPortal(child, el)

<React.StrictMode>有什么用处？

> 相当于对包裹的组件添加额外的安全检查，如不安全的生命周期、过时的 API 等，它不会渲染出额外的 UI，只在开发模式下使用