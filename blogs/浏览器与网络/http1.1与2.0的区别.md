## 前言

影响一个 http 请求响应速度的因素有两个：

1. **带宽：**在十几年前还停留在拨号上网、使用同轴电缆作为传输介质的时代，带宽是决定网络速度的主要因素，但由于当今网络基础设施已得到大幅提升，我们一般不用担心带宽
2. **延迟：**
   * 浏览器阻塞：同一域名下浏览器会有最大请求数限制，超出了这个限制，后续的请求就会被阻塞
   * DNS解析：浏览器需要知道目标服务器的IP地址才能建立连接。
   * 建立TCP连接需要三次握手
   
   

## HTTP1.0 和 HTTP1.1 的区别

1. **缓存处理**，新增了 `Etag/If-None-Match` 协商缓存判断条件
2. **支持断点续传**(range首部和206状态码)
3. **host 首部**，用于支持虚拟主机技术
4. **长连接**，一个 tcp 连接可以发送多个 http 请求，由于 tcp 协议慢启动的原因，可以提高性能，节省更多的带宽资源

## HTTP1.1 和 HTTP2.0 的区别

1. **多路复用**，一个 tcp 连接上并行的发出多个请求。多路复用可能会导致关键请求被阻塞，http2.0 允许给一些请求设置优先级
2. **header首部压缩**
3. **二进制解析格式**
4. **服务器端推送**，把客户端所需的资源伴随着某个请求一个发送到客户端